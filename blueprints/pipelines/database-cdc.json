{
  "$schema": "https://loxtep.com/schemas/blueprint/pipeline.json",
  "blueprint_type": "pipeline",
  "slug": "database-cdc",
  "name": "Database CDC Pipeline",
  "description": "Capture database changes using Change Data Capture (CDC). Ideal for real-time data replication, event sourcing, and keeping data products in sync with operational databases.",
  "version": "1.0.0",
  "tags": ["database", "cdc", "real-time", "replication"],
  "use_cases": [
    "Real-time database replication",
    "Event sourcing from transactional databases",
    "Data warehouse synchronization",
    "Audit log generation"
  ],
  "entity": {
    "pipeline_id": "{{PIPELINE_ID}}",
    "organization_id": "{{ORGANIZATION_ID}}",
    "project_id": "{{PROJECT_ID}}",
    "name": "{{PIPELINE_NAME}}",
    "description": "Database CDC pipeline for capturing database changes",
    "connection_id": "{{CONNECTION_ID}}",
    "template_id": "{{TEMPLATE_ID_DATABASE_CDC}}",
    "configuration": {
      "schedule": null,
      "batch_size": 1000,
      "transformation_ids": [],
      "validation_ids": []
    },
    "deployment": null,
    "status": "inactive",
    "metrics": {},
    "metadata": {
      "blueprint_slug": "database-cdc",
      "ingestion_type": "database_cdc",
      "cdc_config": {
        "tables": "{{CDC_TABLES}}",
        "include_schema_changes": false,
        "initial_snapshot": true
      }
    },
    "created_at": "{{CREATED_AT}}",
    "updated_at": "{{UPDATED_AT}}"
  },
  "dependencies": {
    "connection": {
      "type": "database",
      "required": true,
      "description": "Database connection with CDC-enabled permissions"
    }
  },
  "placeholders": {
    "{{PIPELINE_ID}}": "Generated UUID for the pipeline",
    "{{ORGANIZATION_ID}}": "Organization that owns this pipeline",
    "{{PROJECT_ID}}": "Project containing this pipeline",
    "{{PIPELINE_NAME}}": "User-provided name for the pipeline",
    "{{CONNECTION_ID}}": "Reference to database connection",
    "{{TEMPLATE_ID_DATABASE_CDC}}": "System database CDC template ID",
    "{{CDC_TABLES}}": "Comma-separated list of tables to track (e.g., 'orders,customers')",
    "{{CREATED_AT}}": "ISO 8601 timestamp",
    "{{UPDATED_AT}}": "ISO 8601 timestamp"
  }
}
